<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,maximum-scale=1,viewport-fit=cover"><meta name="Description" , content="camera.ui is a user interface for RTSP capable cameras."><meta name="theme-color" content="#FFFFFF" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#202020" media="(prefers-color-scheme: dark)"><!--[if IE]><link rel="icon" href="/favicon.ico" /><![endif]--><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2048-2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2732-2048.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1668-2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2388-1668.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1536-2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2048-1536.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1668-2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2224-1668.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1620-2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2160-1620.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1284-2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2778-1284.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1170-2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2532-1170.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1125-2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2436-1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1242-2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2688-1242.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-828-1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1792-828.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1242-2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-2208-1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-750-1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1334-750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-640-1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-1136-640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2048-2732.png" media="(prefers-color-scheme: dark) and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2732-2048.png" media="(prefers-color-scheme: dark) and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1668-2388.png" media="(prefers-color-scheme: dark) and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2388-1668.png" media="(prefers-color-scheme: dark) and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1536-2048.png" media="(prefers-color-scheme: dark) and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2048-1536.png" media="(prefers-color-scheme: dark) and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1668-2224.png" media="(prefers-color-scheme: dark) and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2224-1668.png" media="(prefers-color-scheme: dark) and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1620-2160.png" media="(prefers-color-scheme: dark) and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2160-1620.png" media="(prefers-color-scheme: dark) and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1284-2778.png" media="(prefers-color-scheme: dark) and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2778-1284.png" media="(prefers-color-scheme: dark) and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1170-2532.png" media="(prefers-color-scheme: dark) and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2532-1170.png" media="(prefers-color-scheme: dark) and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1125-2436.png" media="(prefers-color-scheme: dark) and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2436-1125.png" media="(prefers-color-scheme: dark) and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1242-2688.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2688-1242.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-828-1792.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1792-828.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1242-2208.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-2208-1242.png" media="(prefers-color-scheme: dark) and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-750-1334.png" media="(prefers-color-scheme: dark) and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1334-750.png" media="(prefers-color-scheme: dark) and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-640-1136.png" media="(prefers-color-scheme: dark) and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="/img/splash/apple-splash-dark-1136-640.png" media="(prefers-color-scheme: dark) and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><title>camera.ui</title><script>!(function () {
        var e = new XMLHttpRequest();
        (e.onload = function () {
          var n = e.responseText,
            t = n.indexOf('"/precache-manifest.') + 20,
            o = n.indexOf('.js"', t);
          if (o - t == 32) {
            var r = localStorage,
              i = r.getItem('pmv'),
              s = n.substring(t, o);
            if (s !== i) return r.setItem('pmv', s), window.location.reload(!0);
          }
        }),
          e.open('GET', '/service-worker.js?c=' + new Date().getTime()),
          e.setRequestHeader('Cache-Control', 'no-cache, no-store, must-revalidate'),
          e.send();
      })();</script><script>let autoDarkmode = 'auto' === localStorage.getItem('darkmode');
      if ((autoDarkmode || localStorage.getItem('darkmode') === null) && window.matchMedia) {
        const e = (e) => {
          e
            ? (localStorage.setItem('theme', 'dark'), document.documentElement.setAttribute('data-theme', 'dark'))
            : (localStorage.setItem('theme', 'light'), document.documentElement.setAttribute('data-theme', 'light'));
        };
        window.matchMedia('(prefers-color-scheme: dark)').matches ? e(!0) : e(!1),
          window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (t) => {
            (autoDarkmode = 'auto' === localStorage.getItem('darkmode') || localStorage.getItem('darkmode') === null) &&
              (t.matches ? e(!0) : e(!1));
          });
      } else {
        const e = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
        e && document.documentElement.setAttribute('data-theme', e);
      }
      const currentColorTheme = localStorage.getItem('theme-color') ? localStorage.getItem('theme-color') : null;
      currentColorTheme && document.documentElement.setAttribute('data-theme-color', currentColorTheme);</script><link href="/css/404.f02769ca.css" rel="prefetch"><link href="/css/camera.5bb2acb9.css" rel="prefetch"><link href="/css/cameras.34266bc4.css" rel="prefetch"><link href="/css/cameras~console~dashboard~login~notifications~plugins~recordings~settings~start.114be4f0.css" rel="prefetch"><link href="/css/cameras~console~dashboard~notifications~recordings~settings.2346977c.css" rel="prefetch"><link href="/css/camera~cameraFeed~cameras~camview~config~console~dashboard~notifications~plugins~recordings~settings~7e019b2d.3bdd1c1d.css" rel="prefetch"><link href="/css/camera~cameraFeed~cameras~camview~dashboard.1d916225.css" rel="prefetch"><link href="/css/camview.3a275a80.css" rel="prefetch"><link href="/css/config.45465b2c.css" rel="prefetch"><link href="/css/console.c1d6b63d.css" rel="prefetch"><link href="/css/dashboard.9c6cbcf0.css" rel="prefetch"><link href="/css/login.bafe4525.css" rel="prefetch"><link href="/css/notifications.fca4fadd.css" rel="prefetch"><link href="/css/notifications~recordings~settings.51e80009.css" rel="prefetch"><link href="/css/plugins.ea2f3145.css" rel="prefetch"><link href="/css/recordings.1f6d4901.css" rel="prefetch"><link href="/css/settings.74a79772.css" rel="prefetch"><link href="/css/start.d0a2e73b.css" rel="prefetch"><link href="/css/utilization.71df2456.css" rel="prefetch"><link href="/js/404.823920f1.js" rel="prefetch"><link href="/js/camera.53515895.js" rel="prefetch"><link href="/js/cameraFeed.b4ce4ca1.js" rel="prefetch"><link href="/js/cameras.a8a85a04.js" rel="prefetch"><link href="/js/cameras~console~dashboard~login~notifications~plugins~recordings~settings~start.985bc638.js" rel="prefetch"><link href="/js/cameras~console~dashboard~notifications~recordings~settings.e621d84a.js" rel="prefetch"><link href="/js/camera~cameraFeed~cameras~camview~config~console~dashboard~notifications~plugins~recordings~settings~7e019b2d.6997d2d1.js" rel="prefetch"><link href="/js/camera~cameraFeed~cameras~camview~dashboard.240f7a01.js" rel="prefetch"><link href="/js/camview.ceb050b8.js" rel="prefetch"><link href="/js/config.6bd15e18.js" rel="prefetch"><link href="/js/console.81d9a384.js" rel="prefetch"><link href="/js/dashboard.01450e2c.js" rel="prefetch"><link href="/js/login.26006451.js" rel="prefetch"><link href="/js/notifications.909b381a.js" rel="prefetch"><link href="/js/notifications~recordings~settings.5c05ec14.js" rel="prefetch"><link href="/js/plugins.03ec6c9f.js" rel="prefetch"><link href="/js/recordings.a5577d49.js" rel="prefetch"><link href="/js/settings.ef8cec63.js" rel="prefetch"><link href="/js/start.e95646d4.js" rel="prefetch"><link href="/js/utilization.0b671abd.js" rel="prefetch"><link href="/css/app.e43e6d5a.css" rel="preload" as="style"><link href="/css/chunk-vendors.0cabb133.css" rel="preload" as="style"><link href="/js/app.74c03ec3.js" rel="preload" as="script"><link href="/js/chunk-vendors.b397b930.js" rel="preload" as="script"><link href="/css/chunk-vendors.0cabb133.css" rel="stylesheet"><link href="/css/app.e43e6d5a.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="32x32" href="/img/icons/favicon-32x32.png?v=1650815309186"><link rel="icon" type="image/png" sizes="16x16" href="/img/icons/favicon-16x16.png?v=1650815309186"><link rel="manifest" href="/manifest.json?v=1650815309186"><meta name="theme-color" content="#f1f1f1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="camera.ui"><link rel="apple-touch-icon" href="/img/icons/apple-touch-icon-dark-180x180.png?v=1650815309186"><link rel="mask-icon" href="/img/icons/safari-pinned-tab.svg?v=1650815309186" color="#f1f1f1"><meta name="msapplication-TileImage" content="/img/icons/msapplication-icon-144x144.png?v=1650815309186"><meta name="msapplication-TileColor" content="#f1f1f1"></head><body><noscript><strong>We're sorry but camera.ui doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id="app"></div><script src="/js/chunk-vendors.b397b930.js"></script><script src="/js/app.74c03ec3.js"></script>
    

    <script>
        let lastUrl = location.href; 

        function checkUrlChange() {
            const currentUrl = location.href;
            if (currentUrl !== lastUrl) {
                console.log('URL changed from', lastUrl, 'to', currentUrl);
                lastUrl = currentUrl;
                // استخراج پارامتر جدید
                const currentPath = new URL(currentUrl).pathname;
                if(currentPath.includes('/cameras/')){
                    const pathParts = currentPath.split('/cameras/');
                    const cameraParam = pathParts[pathParts.length - 1];
                    // ارسال درخواست به API
                    sendApiRequest(cameraParam);
                    console.log({currentPath,cameraParam});
                }
                
                
            }
        }

        function sendApiRequest(cameraParam) {
            const apiUrl = 'http://192.168.20.27:8081/api/cameras/conrols';

            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    camName: cameraParam,
                    x: 0,
                    y: 0,
                    zoom: 0.05
                })
            }).then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                console.log( 'درخواست با موفقیت ارسال شد: ' + JSON.stringify(data));
            })
            .catch(error => {
                console.error('خطا در ارسال درخواست:', error);
            });
        }

        // بررسی تغییر URL هر 100 میلی‌ثانیه
        setInterval(checkUrlChange, 100);

        // اجرای اولیه برای URL فعلی
        checkUrlChange();
    </script>
    </body></html>